---
phase: 07-compliance-foundation
plan: 01
type: execute
depends_on: []
files_modified:
  - mobile/lib/screens/legal_screen.dart
  - mobile/lib/screens/settings_screen.dart
  - mobile/lib/l10n/app_en.arb
  - mobile/lib/l10n/app_nl.arb
---

<objective>
Add in-app legal screens for App Store compliance.

Purpose: iOS App Store requires apps to provide accessible privacy policy and terms of service.
Output: LegalScreen with privacy policy and terms of service tabs, accessible from settings.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@mobile/lib/screens/settings_screen.dart
@mobile/lib/l10n/app_en.arb
@mobile/lib/l10n/app_nl.arb

**Phase 6.2 complete:** Firebase Analytics integrated with ATT support.

**Established patterns:**
- Screens follow ListView with Card pattern (see settings_screen.dart)
- Localization uses ARB files with @description annotations
- Dutch is primary UI language, English for technical content
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create LegalScreen with privacy policy and terms tabs</name>
  <files>mobile/lib/screens/legal_screen.dart</files>
  <action>
Create a new LegalScreen with TabBar showing two tabs:
1. **Privacy Policy tab**: Display the privacy policy text inline (not just a link). Cover:
   - What data is collected (location, email, car odometer)
   - Why it's collected (trip tracking, mileage calculation)
   - How it's stored (Firebase/GCP in EU region)
   - Third-party services (Google Sign-In, Firebase Analytics, car APIs)
   - User rights (data export via Sheets, account deletion via settings)
   - Contact info for privacy questions

2. **Terms of Service tab**: Display terms inline. Cover:
   - Service description (autonomous trip tracking)
   - User responsibilities (accurate car setup, lawful use)
   - Data accuracy disclaimer (GPS/odometer may vary)
   - Service availability (no uptime guarantee, personal project)
   - Account termination (user can delete anytime)
   - Limitation of liability

Both tabs should have:
- A "Read full version" button that opens URL in browser (for future web-hosted versions)
- ScrollView for long content
- Last updated date at bottom

Use Dutch as primary language with English technical terms where appropriate.
Use url_launcher package (already in pubspec.yaml) for external links.
  </action>
  <verify>
flutter analyze mobile/lib/screens/legal_screen.dart shows no errors
  </verify>
  <done>
LegalScreen exists with both tabs displaying inline content, scrollable, with external link buttons.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add legal screen link to settings and add localization strings</name>
  <files>mobile/lib/screens/settings_screen.dart, mobile/lib/l10n/app_en.arb, mobile/lib/l10n/app_nl.arb</files>
  <action>
1. In settings_screen.dart:
   - Add a new "Legal" section before the Developer section
   - Add a Card with ListTile for "Privacy Policy & Terms"
   - Icon: Icons.policy or Icons.description
   - OnTap navigates to LegalScreen
   - Import the new legal_screen.dart

2. In app_en.arb, add:
   - "legal": "Legal"
   - "privacyPolicyAndTerms": "Privacy Policy & Terms"
   - "privacyPolicy": "Privacy Policy"
   - "termsOfService": "Terms of Service"
   - "readFullVersion": "Read full version online"
   - "lastUpdated": "Last updated: {date}"
   - "privacyPolicyContent": (English privacy policy text)
   - "termsOfServiceContent": (English terms text)

3. In app_nl.arb, add equivalent Dutch translations.

Run `flutter gen-l10n` to regenerate localization files.
  </action>
  <verify>
flutter build ios --no-codesign completes without errors
  </verify>
  <done>
Settings screen shows Legal section with link to LegalScreen.
Localization strings exist in both EN and NL ARB files.
Generated localization files updated.
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `flutter analyze` passes with no errors
- [ ] `flutter build ios --no-codesign` succeeds
- [ ] LegalScreen displays both privacy policy and terms
- [ ] Settings screen has Legal section with working navigation
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript/Dart errors
- Legal content accessible from settings in-app
</success_criteria>

<output>
After completion, create `.planning/phases/07-compliance-foundation/07-01-SUMMARY.md`
</output>

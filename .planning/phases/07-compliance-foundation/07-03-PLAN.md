---
phase: 07-compliance-foundation
plan: 03
type: execute
depends_on: []
files_modified:
  - mobile/pubspec.yaml
  - CHANGELOG.md
---

<objective>
Set up version management and create CHANGELOG for App Store releases.

Purpose: Semantic versioning enables proper App Store version tracking; CHANGELOG documents changes for users and reviewers.
Output: Version bumped to 1.1.0 (first public release), CHANGELOG.md created with release history.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@mobile/pubspec.yaml

**Current version:** 1.0.0+1 (in pubspec.yaml)
**Version format:** MAJOR.MINOR.PATCH+BUILD_NUMBER

**Semantic versioning rules:**
- MAJOR: Breaking changes (API incompatible)
- MINOR: New features (backwards compatible)
- PATCH: Bug fixes
- BUILD_NUMBER: Increments each App Store submission

**For first App Store release:** Use 1.1.0 to indicate new features added since initial 1.0.0 development version.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update version and create CHANGELOG</name>
  <files>mobile/pubspec.yaml, CHANGELOG.md</files>
  <action>
1. In mobile/pubspec.yaml:
   - Update version from "1.0.0+1" to "1.1.0+1"
   - This represents the first App Store release version

2. Create CHANGELOG.md in project root with:
   - Use Keep a Changelog format (https://keepachangelog.com/)
   - Document the 1.1.0 release with major features:

```markdown
# Changelog

All notable changes to Zero Click will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.1.0] - 2026-01-20

### Added
- Firebase Analytics for usage insights (privacy-respecting)
- Firebase Crashlytics for crash reporting
- In-app privacy policy and terms of service
- Firestore read optimization (99% reduction)
- Watch app smart refresh (reduces battery usage)
- Cursor-based trip pagination
- Denormalized car statistics

### Changed
- Improved error handling with user-friendly messages
- Split monolithic AppProvider into focused providers
- Extracted iOS services from AppDelegate
- Refactored oversized screen files

### Fixed
- Motion detection hysteresis for reliable trip detection
- GPS-only fallback when car API unavailable

## [1.0.0] - 2025-12-01

### Added
- Initial development version
- Automatic trip detection via iOS motion sensors
- Multi-car support (Audi, VW, Tesla, Renault, generic)
- Live Activity during trips
- Apple Watch companion app
- Google Sheets export
- Business/private trip classification
```

Date for 1.0.0 is approximate - adjust if you know the actual initial development date.
  </action>
  <verify>
grep "version:" mobile/pubspec.yaml shows 1.1.0+1
cat CHANGELOG.md | head -20 shows correct format
  </verify>
  <done>
Version updated to 1.1.0+1 in pubspec.yaml.
CHANGELOG.md created with proper format and release notes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify build with new version</name>
  <files>mobile/pubspec.yaml</files>
  <action>
Run flutter build to verify the version change doesn't break anything:

1. Run `flutter pub get` to ensure dependencies are resolved
2. Run `flutter build ios --no-codesign` to verify iOS build
3. Verify the build output shows version 1.1.0

Check that Info.plist will receive the new version via $(FLUTTER_BUILD_NAME).
  </action>
  <verify>
flutter build ios --no-codesign 2>&1 | grep -E "(error|Building)" | tail -5
  </verify>
  <done>
Flutter iOS build succeeds with version 1.1.0.
Build artifacts show correct version number.
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] pubspec.yaml shows version 1.1.0+1
- [ ] CHANGELOG.md exists with proper format
- [ ] `flutter build ios --no-codesign` succeeds
- [ ] Version change propagates to iOS Info.plist
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Version management ready for App Store submission
- CHANGELOG documents all significant changes
</success_criteria>

<output>
After completion, create `.planning/phases/07-compliance-foundation/07-03-SUMMARY.md`
</output>
